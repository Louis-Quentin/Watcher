{"ast":null,"code":"var _jsxFileName = \"/home/alouis-quentin/Portfolio/watcher/watcher/src/SlideShow.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useEffect, useRef, useState, createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Assuming SlideshowContextType is the type imported from another file.\n\nconst SlideshowContext = /*#__PURE__*/createContext(null);\nexport function Slideshow({\n  children,\n  className,\n  style\n}) {\n  _s();\n  const [context, setContext] = useState({\n    items: [],\n    edge: false\n  });\n  const timer = useRef(null);\n  useEffect(() => {\n    if (timer.current) clearTimeout(timer.current);\n    timer.current = setTimeout(() => {\n      if (context.items.length > 1 && context.edge) {\n        const head = context.items.shift();\n        if (head) context.items.push(head);\n      }\n      setContext({\n        ...context,\n        edge: !context.edge\n      });\n    }, 2500);\n    return () => {\n      if (timer.current) clearTimeout(timer.current);\n    };\n  }, [context, context.edge]);\n  console.log(context.items);\n  return /*#__PURE__*/_jsxDEV(SlideshowContext.Provider, {\n    value: context,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: className,\n      style: {\n        height: \"600px\",\n        width: \"600px\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        ...style\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(Slideshow, \"UuihJSuSJUxZmUw2SDphLQLI1xY=\");\n_c = Slideshow;\nexport function SlideshowItem({\n  children\n}) {\n  _s2();\n  const name = useRef(`${performance.now()}_${Math.random()}`);\n  const context = useContext(SlideshowContext); // Assert non-null because context is initialized in Slideshow component\n  const [stage, setStage] = useState(\"ready\");\n  useEffect(() => {\n    context.items.push(name.current);\n    return () => {\n      const index = context.items.indexOf(name.current);\n      if (index !== -1) {\n        context.items.splice(index, 1);\n      }\n    };\n  }, [context.items]);\n  useEffect(() => {\n    const activeName = context.items[0];\n    if (activeName === name.current) {\n      setStage(\"on\");\n    } else if (stage === \"on\") {\n      setStage(\"off\");\n    } else if (stage === \"off\") {\n      setStage(\"ready\");\n    }\n  }, [context.items, stage]);\n  let left = \"100%\";\n  let zIndex = 0;\n  switch (stage) {\n    case \"on\":\n      left = \"0\";\n      zIndex = 1;\n      break;\n    case \"off\":\n      zIndex = 0;\n      break;\n    default:\n      break;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      transition: \"0.5s\",\n      position: \"absolute\",\n      top: 0,\n      left,\n      zIndex\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s2(SlideshowItem, \"gBcSqfqSfGw2YswgBqwp4IvzcHg=\");\n_c2 = SlideshowItem;\nvar _c, _c2;\n$RefreshReg$(_c, \"Slideshow\");\n$RefreshReg$(_c2, \"SlideshowItem\");","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","createContext","jsxDEV","_jsxDEV","SlideshowContext","Slideshow","children","className","style","_s","context","setContext","items","edge","timer","current","clearTimeout","setTimeout","length","head","shift","push","console","log","Provider","value","height","width","position","overflow","fileName","_jsxFileName","lineNumber","columnNumber","_c","SlideshowItem","_s2","name","performance","now","Math","random","stage","setStage","index","indexOf","splice","activeName","left","zIndex","transition","top","_c2","$RefreshReg$"],"sources":["/home/alouis-quentin/Portfolio/watcher/watcher/src/SlideShow.tsx"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState, createContext } from \"react\";\nimport { SlideshowContextType } from \"./SlideShowContext\"; // Assuming SlideshowContextType is the type imported from another file.\n\nconst SlideshowContext = createContext<SlideshowContextType | null>(null);\n\nexport function Slideshow({ children, className, style }: { children: React.ReactNode; className?: string; style?: React.CSSProperties; }) {\n  const [context, setContext] = useState<SlideshowContextType>({\n    items: [],\n    edge: false\n  });\n  const timer = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    if (timer.current) clearTimeout(timer.current);\n    timer.current = setTimeout(() => {\n      if (context.items.length > 1 && context.edge) {\n        const head = context.items.shift();\n        if (head) context.items.push(head);\n      }\n      setContext({ ...context, edge: !context.edge });\n    }, 2500);\n\n    return () => {\n      if (timer.current) clearTimeout(timer.current);\n    };\n  }, [context, context.edge]);\n\n  console.log(context.items);\n\n  return (\n    <SlideshowContext.Provider value={context}>\n      <div\n        className={className}\n        style={{\n          height: \"600px\",\n          width: \"600px\",\n          position: \"relative\",\n          overflow: \"hidden\",\n          ...style\n        }}\n      >\n        {children}\n      </div>\n    </SlideshowContext.Provider>\n  );\n}\n\nexport function SlideshowItem({ children }: { children: React.ReactNode; }) {\n  const name = useRef<string>(`${performance.now()}_${Math.random()}`);\n  const context = useContext(SlideshowContext)!; // Assert non-null because context is initialized in Slideshow component\n  const [stage, setStage] = useState<\"ready\" | \"on\" | \"off\">(\"ready\");\n\n  useEffect(() => {\n    context.items.push(name.current);\n    return () => {\n      const index = context.items.indexOf(name.current);\n      if (index !== -1) {\n        context.items.splice(index, 1);\n      }\n    };\n  }, [context.items]);\n\n  useEffect(() => {\n    const activeName = context.items[0];\n    if (activeName === name.current) {\n      setStage(\"on\");\n    } else if (stage === \"on\") {\n      setStage(\"off\");\n    } else if (stage === \"off\") {\n      setStage(\"ready\");\n    }\n  }, [context.items, stage]);\n\n  let left = \"100%\";\n  let zIndex = 0;\n  switch (stage) {\n    case \"on\":\n      left = \"0\";\n      zIndex = 1;\n      break;\n    case \"off\":\n      zIndex = 0;\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div\n      style={{\n        transition: \"0.5s\",\n        position: \"absolute\",\n        top: 0,\n        left,\n        zIndex\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC3B;;AAE3D,MAAMC,gBAAgB,gBAAGH,aAAa,CAA8B,IAAI,CAAC;AAEzE,OAAO,SAASI,SAASA,CAAC;EAAEC,QAAQ;EAAEC,SAAS;EAAEC;AAAuF,CAAC,EAAE;EAAAC,EAAA;EACzI,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAuB;IAC3DY,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAMC,KAAK,GAAGf,MAAM,CAAwB,IAAI,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACd,IAAIgB,KAAK,CAACC,OAAO,EAAEC,YAAY,CAACF,KAAK,CAACC,OAAO,CAAC;IAC9CD,KAAK,CAACC,OAAO,GAAGE,UAAU,CAAC,MAAM;MAC/B,IAAIP,OAAO,CAACE,KAAK,CAACM,MAAM,GAAG,CAAC,IAAIR,OAAO,CAACG,IAAI,EAAE;QAC5C,MAAMM,IAAI,GAAGT,OAAO,CAACE,KAAK,CAACQ,KAAK,CAAC,CAAC;QAClC,IAAID,IAAI,EAAET,OAAO,CAACE,KAAK,CAACS,IAAI,CAACF,IAAI,CAAC;MACpC;MACAR,UAAU,CAAC;QAAE,GAAGD,OAAO;QAAEG,IAAI,EAAE,CAACH,OAAO,CAACG;MAAK,CAAC,CAAC;IACjD,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,MAAM;MACX,IAAIC,KAAK,CAACC,OAAO,EAAEC,YAAY,CAACF,KAAK,CAACC,OAAO,CAAC;IAChD,CAAC;EACH,CAAC,EAAE,CAACL,OAAO,EAAEA,OAAO,CAACG,IAAI,CAAC,CAAC;EAE3BS,OAAO,CAACC,GAAG,CAACb,OAAO,CAACE,KAAK,CAAC;EAE1B,oBACET,OAAA,CAACC,gBAAgB,CAACoB,QAAQ;IAACC,KAAK,EAAEf,OAAQ;IAAAJ,QAAA,eACxCH,OAAA;MACEI,SAAS,EAAEA,SAAU;MACrBC,KAAK,EAAE;QACLkB,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,OAAO;QACdC,QAAQ,EAAE,UAAU;QACpBC,QAAQ,EAAE,QAAQ;QAClB,GAAGrB;MACL,CAAE;MAAAF,QAAA,EAEDA;IAAQ;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACmB,CAAC;AAEhC;AAACxB,EAAA,CAxCeJ,SAAS;AAAA6B,EAAA,GAAT7B,SAAS;AA0CzB,OAAO,SAAS8B,aAAaA,CAAC;EAAE7B;AAAyC,CAAC,EAAE;EAAA8B,GAAA;EAC1E,MAAMC,IAAI,GAAGtC,MAAM,CAAU,GAAEuC,WAAW,CAACC,GAAG,CAAC,CAAE,IAAGC,IAAI,CAACC,MAAM,CAAC,CAAE,EAAC,CAAC;EACpE,MAAM/B,OAAO,GAAGb,UAAU,CAACO,gBAAgB,CAAE,CAAC,CAAC;EAC/C,MAAM,CAACsC,KAAK,EAAEC,QAAQ,CAAC,GAAG3C,QAAQ,CAAyB,OAAO,CAAC;EAEnEF,SAAS,CAAC,MAAM;IACdY,OAAO,CAACE,KAAK,CAACS,IAAI,CAACgB,IAAI,CAACtB,OAAO,CAAC;IAChC,OAAO,MAAM;MACX,MAAM6B,KAAK,GAAGlC,OAAO,CAACE,KAAK,CAACiC,OAAO,CAACR,IAAI,CAACtB,OAAO,CAAC;MACjD,IAAI6B,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBlC,OAAO,CAACE,KAAK,CAACkC,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAChC;IACF,CAAC;EACH,CAAC,EAAE,CAAClC,OAAO,CAACE,KAAK,CAAC,CAAC;EAEnBd,SAAS,CAAC,MAAM;IACd,MAAMiD,UAAU,GAAGrC,OAAO,CAACE,KAAK,CAAC,CAAC,CAAC;IACnC,IAAImC,UAAU,KAAKV,IAAI,CAACtB,OAAO,EAAE;MAC/B4B,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,MAAM,IAAID,KAAK,KAAK,IAAI,EAAE;MACzBC,QAAQ,CAAC,KAAK,CAAC;IACjB,CAAC,MAAM,IAAID,KAAK,KAAK,KAAK,EAAE;MAC1BC,QAAQ,CAAC,OAAO,CAAC;IACnB;EACF,CAAC,EAAE,CAACjC,OAAO,CAACE,KAAK,EAAE8B,KAAK,CAAC,CAAC;EAE1B,IAAIM,IAAI,GAAG,MAAM;EACjB,IAAIC,MAAM,GAAG,CAAC;EACd,QAAQP,KAAK;IACX,KAAK,IAAI;MACPM,IAAI,GAAG,GAAG;MACVC,MAAM,GAAG,CAAC;MACV;IACF,KAAK,KAAK;MACRA,MAAM,GAAG,CAAC;MACV;IACF;MACE;EACJ;EAEA,oBACE9C,OAAA;IACEK,KAAK,EAAE;MACL0C,UAAU,EAAE,MAAM;MAClBtB,QAAQ,EAAE,UAAU;MACpBuB,GAAG,EAAE,CAAC;MACNH,IAAI;MACJC;IACF,CAAE;IAAA3C,QAAA,EAEDA;EAAQ;IAAAwB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACG,GAAA,CArDeD,aAAa;AAAAiB,GAAA,GAAbjB,aAAa;AAAA,IAAAD,EAAA,EAAAkB,GAAA;AAAAC,YAAA,CAAAnB,EAAA;AAAAmB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}